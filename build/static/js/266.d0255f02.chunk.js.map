{"version":3,"file":"static/js/266.d0255f02.chunk.js","mappings":"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","sources":["../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","components/ui/star-rating.tsx","pages/profile/reading-list.tsx","components/ui/pagination.tsx","../node_modules/use-sync-external-store/shim/index.js"],"sourcesContent":["/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","import React, { useState } from 'react';\n\nexport interface StarRatingProps {\n  rating?: number;\n  maxRating?: number;\n  size?: 'sm' | 'md' | 'lg';\n  color?: string;\n  readOnly?: boolean;\n  onChange?: (rating: number) => void;\n  className?: string;\n}\n\n/**\n * Star rating component for displaying and selecting ratings\n */\nexport const StarRating: React.FC<StarRatingProps> = ({\n  rating = 0,\n  maxRating = 5,\n  size = 'md',\n  color = 'text-yellow-400',\n  readOnly = false,\n  onChange,\n  className = '',\n}) => {\n  const [hoverRating, setHoverRating] = useState<number>(0);\n  \n  // Size classes\n  const sizeClasses = {\n    sm: 'h-4 w-4',\n    md: 'h-5 w-5',\n    lg: 'h-6 w-6',\n  };\n  \n  // Handle mouse enter on star\n  const handleMouseEnter = (index: number): void => {\n    if (!readOnly) {\n      setHoverRating(index);\n    }\n  };\n  \n  // Handle mouse leave on star container\n  const handleMouseLeave = (): void => {\n    if (!readOnly) {\n      setHoverRating(0);\n    }\n  };\n  \n  // Handle click on star\n  const handleClick = (index: number): void => {\n    if (!readOnly && onChange) {\n      onChange(index);\n    }\n  };\n  \n  // Render stars\n  const renderStars = (): JSX.Element[] => {\n    return Array.from({ length: maxRating }, (_, i) => {\n      const starIndex = i + 1;\n      const isFilled = hoverRating ? starIndex <= hoverRating : starIndex <= rating;\n      \n      return (\n        <span\n          key={i}\n          className={`${readOnly ? '' : 'cursor-pointer'}`}\n          onMouseEnter={() => handleMouseEnter(starIndex)}\n          onClick={() => handleClick(starIndex)}\n          role={readOnly ? undefined : 'button'}\n          tabIndex={readOnly ? undefined : 0}\n          aria-label={readOnly ? `Rating: ${starIndex} of ${maxRating}` : `Rate ${starIndex} of ${maxRating}`}\n        >\n          {isFilled ? (\n            <svg\n              className={`${sizeClasses[size]} ${color}`}\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 20 20\"\n              fill=\"currentColor\"\n              aria-hidden=\"true\"\n            >\n              <path\n                d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\"\n              />\n            </svg>\n          ) : (\n            <svg\n              className={`${sizeClasses[size]} text-gray-300`}\n              xmlns=\"http://www.w3.org/2000/svg\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              aria-hidden=\"true\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\"\n              />\n            </svg>\n          )}\n        </span>\n      );\n    });\n  };\n  \n  return (\n    <div\n      className={`flex ${className}`}\n      onMouseLeave={handleMouseLeave}\n      aria-label={`Rating: ${rating} out of ${maxRating}`}\n    >\n      {renderStars()}\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Link } from 'react-router-dom';\nimport { Layout } from '../../components/layout/layout.tsx';\nimport { Container } from '../../components/layout/container.tsx';\nimport { Spinner } from '../../components/ui/spinner.tsx';\nimport { Alert } from '../../components/ui/alert.tsx';\nimport { Pagination } from '../../components/ui/pagination.tsx';\nimport { StarRating } from '../../components/ui/star-rating.tsx';\nimport { useAuth } from '../../context/auth-context.tsx';\nimport { UserService } from '../../services/user-service.ts';\nimport { Book } from '../../types';\n\n/**\n * User reading list page component\n */\nexport const ReadingListPage: React.FC = () => {\n  const { isAuthenticated, user } = useAuth();\n  const queryClient = useQueryClient();\n  const [currentPage, setCurrentPage] = useState<number>(1);\n  const booksPerPage = 10;\n\n  // Fetch user's reading list with pagination\n  const {\n    data: readingListData,\n    isLoading,\n    error,\n  } = useQuery(\n    ['readingList', currentPage],\n    () => UserService.getReadingList((currentPage - 1) * booksPerPage, booksPerPage),\n    {\n      enabled: isAuthenticated,\n      keepPreviousData: true,\n      staleTime: 5 * 60 * 1000, // 5 minutes\n    }\n  );\n\n  // Remove book from reading list mutation\n  const removeFromReadingListMutation = useMutation(\n    (bookId: string) => UserService.removeFromReadingList(bookId),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries(['readingList']);\n      },\n      onError: (err: any) => {\n        alert(err?.message || 'Failed to remove book from reading list. Please try again.');\n      },\n    }\n  );\n\n  // Handle page change\n  const handlePageChange = (page: number): void => {\n    setCurrentPage(page);\n  };\n\n  // Handle remove from reading list\n  const handleRemoveFromReadingList = (bookId: string): void => {\n    if (window.confirm('Are you sure you want to remove this book from your reading list?')) {\n      removeFromReadingListMutation.mutate(bookId);\n    }\n  };\n\n  if (!isAuthenticated) {\n    return (\n      <Layout>\n        <Container className=\"py-12\">\n          <Alert type=\"error\">\n            You need to be logged in to view your reading list.\n          </Alert>\n        </Container>\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout>\n      <Container className=\"py-8\">\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold tracking-tight text-gray-900\">My Reading List</h1>\n            <p className=\"mt-2 text-lg text-gray-600\">\n              Books you've saved to read later.\n            </p>\n          </div>\n          <div className=\"mt-4 md:mt-0\">\n            <Link\n              to=\"/books\"\n              className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n            >\n              Browse Books\n            </Link>\n          </div>\n        </div>\n\n        {/* Reading list */}\n        <div className=\"mt-8\">\n          {isLoading ? (\n            <div className=\"flex justify-center py-12\">\n              <Spinner size=\"lg\" />\n            </div>\n          ) : error ? (\n            <Alert type=\"error\">\n              Failed to load your reading list. Please try again later.\n            </Alert>\n          ) : readingListData && readingListData.books.length > 0 ? (\n            <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n              {readingListData.books.map((book: Book) => (\n                <div key={book.id} className=\"bg-white overflow-hidden shadow rounded-lg\">\n                  <div className=\"p-4 flex items-start\">\n                    <div className=\"flex-shrink-0 h-32 w-24 bg-gray-200 rounded overflow-hidden\">\n                      {book.coverImageUrl ? (\n                        <img\n                          src={book.coverImageUrl}\n                          alt={`${book.title} cover`}\n                          className=\"h-full w-full object-cover\"\n                        />\n                      ) : (\n                        <div className=\"h-full w-full flex items-center justify-center bg-gray-100 text-gray-400\">\n                          No Cover\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"ml-4 flex-1\">\n                      <Link to={`/books/${book.id}`}>\n                        <h3 className=\"text-lg font-medium text-gray-900 hover:text-primary-600\">\n                          {book.title}\n                        </h3>\n                      </Link>\n                      <p className=\"mt-1 text-sm text-gray-500\">{book.author}</p>\n                      <div className=\"mt-2 flex items-center\">\n                        <StarRating rating={book.averageRating || 0} readOnly size=\"sm\" />\n                        <span className=\"ml-1 text-sm text-gray-500\">\n                          ({book.averageRating?.toFixed(1) || 'No ratings'})\n                        </span>\n                      </div>\n                      <div className=\"mt-4 flex space-x-2\">\n                        <Link\n                          to={`/books/${book.id}`}\n                          className=\"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n                        >\n                          View Details\n                        </Link>\n                        <button\n                          onClick={() => handleRemoveFromReadingList(book.id)}\n                          className=\"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                          disabled={removeFromReadingListMutation.isLoading}\n                        >\n                          Remove\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"py-12 text-center\">\n              <svg\n                className=\"mx-auto h-12 w-12 text-gray-400\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n                aria-hidden=\"true\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"\n                />\n              </svg>\n              <h3 className=\"mt-2 text-lg font-medium text-gray-900\">No books in your reading list</h3>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                Start browsing books and add them to your reading list.\n              </p>\n              <div className=\"mt-6\">\n                <Link\n                  to=\"/books\"\n                  className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n                >\n                  Browse Books\n                </Link>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Pagination */}\n        {readingListData && readingListData.total > booksPerPage && (\n          <div className=\"mt-6 flex justify-center\">\n            <Pagination\n              currentPage={currentPage}\n              totalPages={Math.ceil(readingListData.total / booksPerPage)}\n              onPageChange={handlePageChange}\n            />\n          </div>\n        )}\n      </Container>\n    </Layout>\n  );\n};\n","import React from 'react';\n\nexport interface PaginationProps {\n  currentPage: number;\n  totalPages: number;\n  onPageChange: (page: number) => void;\n  className?: string;\n}\n\n/**\n * Pagination component for navigating through pages of content\n */\nexport const Pagination: React.FC<PaginationProps> = ({\n  currentPage,\n  totalPages,\n  onPageChange,\n  className = '',\n}) => {\n  // Don't render pagination if there's only one page\n  if (totalPages <= 1) {\n    return null;\n  }\n\n  // Calculate page numbers to display\n  const getPageNumbers = (): number[] => {\n    const pages: number[] = [];\n    \n    // Always show first page\n    pages.push(1);\n    \n    // Calculate range around current page\n    const rangeStart = Math.max(2, currentPage - 1);\n    const rangeEnd = Math.min(totalPages - 1, currentPage + 1);\n    \n    // Add ellipsis after first page if needed\n    if (rangeStart > 2) {\n      pages.push(-1); // -1 represents ellipsis\n    }\n    \n    // Add pages in range\n    for (let i = rangeStart; i <= rangeEnd; i++) {\n      pages.push(i);\n    }\n    \n    // Add ellipsis before last page if needed\n    if (rangeEnd < totalPages - 1) {\n      pages.push(-2); // -2 represents ellipsis (different key from first ellipsis)\n    }\n    \n    // Always show last page if more than one page\n    if (totalPages > 1) {\n      pages.push(totalPages);\n    }\n    \n    return pages;\n  };\n\n  return (\n    <nav\n      className={`flex items-center justify-between border-t border-gray-200 px-4 sm:px-0 py-3 ${className}`}\n      aria-label=\"Pagination\"\n    >\n      <div className=\"hidden sm:block\">\n        <p className=\"text-sm text-gray-700\">\n          Showing page <span className=\"font-medium\">{currentPage}</span> of{' '}\n          <span className=\"font-medium\">{totalPages}</span>\n        </p>\n      </div>\n      <div className=\"flex flex-1 justify-between sm:justify-end\">\n        <button\n          onClick={() => onPageChange(currentPage - 1)}\n          disabled={currentPage === 1}\n          className=\"relative inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          Previous\n        </button>\n        <div className=\"hidden sm:flex sm:items-center\">\n          <div className=\"flex items-center space-x-1\">\n            {getPageNumbers().map((page, index) => {\n              // Render ellipsis\n              if (page < 0) {\n                return (\n                  <span\n                    key={page}\n                    className=\"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700\"\n                  >\n                    ...\n                  </span>\n                );\n              }\n              \n              // Render page number\n              return (\n                <button\n                  key={page}\n                  onClick={() => onPageChange(page)}\n                  className={`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${\n                    page === currentPage\n                      ? 'bg-primary-600 text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600'\n                      : 'text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0'\n                  }`}\n                  aria-current={page === currentPage ? 'page' : undefined}\n                >\n                  {page}\n                </button>\n              );\n            })}\n          </div>\n        </div>\n        <button\n          onClick={() => onPageChange(currentPage + 1)}\n          disabled={currentPage === totalPages}\n          className=\"relative ml-3 inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          Next\n        </button>\n      </div>\n    </nav>\n  );\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n"],"names":["React","require","objectIs","Object","is","x","y","useState","useEffect","useLayoutEffect","useDebugValue","checkIfSnapshotChanged","inst","latestGetSnapshot","getSnapshot","value","nextValue","error","shim","window","document","createElement","subscribe","_useState","forceUpdate","exports","useSyncExternalStore","StarRating","_ref","rating","maxRating","size","color","readOnly","onChange","className","hoverRating","setHoverRating","sizeClasses","sm","md","lg","_jsx","concat","onMouseLeave","handleMouseLeave","children","Array","from","length","_","i","starIndex","isFilled","onMouseEnter","handleMouseEnter","index","onClick","handleClick","role","undefined","tabIndex","xmlns","viewBox","fill","d","stroke","strokeLinecap","strokeLinejoin","strokeWidth","ReadingListPage","isAuthenticated","user","useAuth","queryClient","useQueryClient","currentPage","setCurrentPage","data","readingListData","isLoading","useQuery","UserService","getReadingList","enabled","keepPreviousData","staleTime","removeFromReadingListMutation","useMutation","bookId","removeFromReadingList","onSuccess","invalidateQueries","onError","err","alert","message","Layout","_jsxs","Container","Link","to","Spinner","Alert","type","books","map","book","_book$averageRating","coverImageUrl","src","alt","title","id","author","averageRating","toFixed","handleRemoveFromReadingList","confirm","mutate","disabled","total","Pagination","totalPages","Math","ceil","onPageChange","page","getPageNumbers","pages","push","rangeStart","max","rangeEnd","min","module"],"sourceRoot":""}