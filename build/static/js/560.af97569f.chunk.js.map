{"version":3,"file":"static/js/560.af97569f.chunk.js","mappings":"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","sources":["../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","components/ui/star-rating.tsx","services/review-service.ts","components/reviews/review-form.tsx","pages/reviews/review-editor.tsx","../node_modules/use-sync-external-store/shim/index.js"],"sourcesContent":["/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","import React, { useState } from 'react';\n\nexport interface StarRatingProps {\n  rating?: number;\n  maxRating?: number;\n  size?: 'sm' | 'md' | 'lg';\n  color?: string;\n  readOnly?: boolean;\n  onChange?: (rating: number) => void;\n  className?: string;\n}\n\n/**\n * Star rating component for displaying and selecting ratings\n */\nexport const StarRating: React.FC<StarRatingProps> = ({\n  rating = 0,\n  maxRating = 5,\n  size = 'md',\n  color = 'text-yellow-400',\n  readOnly = false,\n  onChange,\n  className = '',\n}) => {\n  const [hoverRating, setHoverRating] = useState<number>(0);\n  \n  // Size classes\n  const sizeClasses = {\n    sm: 'h-4 w-4',\n    md: 'h-5 w-5',\n    lg: 'h-6 w-6',\n  };\n  \n  // Handle mouse enter on star\n  const handleMouseEnter = (index: number): void => {\n    if (!readOnly) {\n      setHoverRating(index);\n    }\n  };\n  \n  // Handle mouse leave on star container\n  const handleMouseLeave = (): void => {\n    if (!readOnly) {\n      setHoverRating(0);\n    }\n  };\n  \n  // Handle click on star\n  const handleClick = (index: number): void => {\n    if (!readOnly && onChange) {\n      onChange(index);\n    }\n  };\n  \n  // Render stars\n  const renderStars = (): JSX.Element[] => {\n    return Array.from({ length: maxRating }, (_, i) => {\n      const starIndex = i + 1;\n      const isFilled = hoverRating ? starIndex <= hoverRating : starIndex <= rating;\n      \n      return (\n        <span\n          key={i}\n          className={`${readOnly ? '' : 'cursor-pointer'}`}\n          onMouseEnter={() => handleMouseEnter(starIndex)}\n          onClick={() => handleClick(starIndex)}\n          role={readOnly ? undefined : 'button'}\n          tabIndex={readOnly ? undefined : 0}\n          aria-label={readOnly ? `Rating: ${starIndex} of ${maxRating}` : `Rate ${starIndex} of ${maxRating}`}\n        >\n          {isFilled ? (\n            <svg\n              className={`${sizeClasses[size]} ${color}`}\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 20 20\"\n              fill=\"currentColor\"\n              aria-hidden=\"true\"\n            >\n              <path\n                d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\"\n              />\n            </svg>\n          ) : (\n            <svg\n              className={`${sizeClasses[size]} text-gray-300`}\n              xmlns=\"http://www.w3.org/2000/svg\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              aria-hidden=\"true\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\"\n              />\n            </svg>\n          )}\n        </span>\n      );\n    });\n  };\n  \n  return (\n    <div\n      className={`flex ${className}`}\n      onMouseLeave={handleMouseLeave}\n      aria-label={`Rating: ${rating} out of ${maxRating}`}\n    >\n      {renderStars()}\n    </div>\n  );\n};\n","import api from './api.ts';\nimport { Review, ReviewResponse, CreateReviewFormData, UpdateReviewFormData } from '../types';\n\n/**\n * Service for handling review-related API calls\n */\nexport const ReviewService = {\n  /**\n   * Get all reviews with pagination\n   */\n  getReviews: async (skip = 0, take = 10): Promise<ReviewResponse> => {\n    return api.get<ReviewResponse>(`/reviews?skip=${skip}&take=${take}`);\n  },\n\n  /**\n   * Get reviews for a specific book\n   */\n  getBookReviews: async (bookId: string, skip = 0, take = 10): Promise<ReviewResponse> => {\n    return api.get<ReviewResponse>(`/reviews/book/${bookId}?skip=${skip}&take=${take}`);\n  },\n\n  /**\n   * Get reviews by a specific user\n   */\n  getUserReviews: async (userId: string, skip = 0, take = 10): Promise<ReviewResponse> => {\n    return api.get<ReviewResponse>(`/reviews/user/${userId}?skip=${skip}&take=${take}`);\n  },\n\n  /**\n   * Get a review by ID\n   */\n  getReviewById: async (id: string): Promise<Review> => {\n    return api.get<Review>(`/reviews/${id}`);\n  },\n\n  /**\n   * Create a new review\n   */\n  createReview: async (reviewData: CreateReviewFormData): Promise<Review> => {\n    return api.post<Review>('/reviews', {\n      bookId: reviewData.bookId,\n      content: reviewData.content,\n      rating: reviewData.rating,\n    });\n  },\n\n  /**\n   * Update a review\n   */\n  updateReview: async (id: string, reviewData: UpdateReviewFormData): Promise<Review> => {\n    return api.patch<Review>(`/reviews/${id}`, {\n      content: reviewData.content,\n      rating: reviewData.rating,\n    });\n  },\n\n  /**\n   * Delete a review\n   */\n  deleteReview: async (id: string): Promise<void> => {\n    return api.delete<void>(`/reviews/${id}`);\n  },\n\n  /**\n   * Get average rating for a book\n   */\n  getAverageRating: async (bookId: string): Promise<{ averageRating: number }> => {\n    return api.get<{ averageRating: number }>(`/reviews/book/${bookId}/average-rating`);\n  },\n};\n","import React, { useState } from 'react';\nimport { StarRating } from '../ui/star-rating.tsx';\nimport { Spinner } from '../ui/spinner.tsx';\nimport { Alert } from '../ui/alert.tsx';\n\ninterface ReviewFormProps {\n  initialRating?: number;\n  initialContent?: string;\n  bookTitle?: string;\n  isSubmitting: boolean;\n  error?: string;\n  onSubmit: (rating: number, content: string) => void;\n  onCancel?: () => void;\n}\n\n/**\n * Review form component for creating and editing reviews\n */\nexport const ReviewForm: React.FC<ReviewFormProps> = ({\n  initialRating = 0,\n  initialContent = '',\n  bookTitle,\n  isSubmitting,\n  error,\n  onSubmit,\n  onCancel,\n}) => {\n  const [rating, setRating] = useState<number>(initialRating);\n  const [content, setContent] = useState<string>(initialContent);\n  const [contentError, setContentError] = useState<string>('');\n  const [ratingError, setRatingError] = useState<string>('');\n\n  // Handle rating change\n  const handleRatingChange = (newRating: number): void => {\n    setRating(newRating);\n    setRatingError('');\n  };\n\n  // Handle content change\n  const handleContentChange = (e: React.ChangeEvent<HTMLTextAreaElement>): void => {\n    setContent(e.target.value);\n    setContentError('');\n  };\n\n  // Validate form\n  const validateForm = (): boolean => {\n    let isValid = true;\n\n    if (rating === 0) {\n      setRatingError('Please select a rating');\n      isValid = false;\n    }\n\n    if (!content.trim()) {\n      setContentError('Please enter a review');\n      isValid = false;\n    } else if (content.trim().length < 10) {\n      setContentError('Review must be at least 10 characters long');\n      isValid = false;\n    }\n\n    return isValid;\n  };\n\n  // Handle form submission\n  const handleSubmit = (e: React.FormEvent): void => {\n    e.preventDefault();\n    \n    if (validateForm()) {\n      onSubmit(rating, content);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      {error && (\n        <Alert type=\"error\" className=\"mb-4\" onClose={() => {}}>\n          {error}\n        </Alert>\n      )}\n\n      {/* Book title if provided */}\n      {bookTitle && (\n        <div>\n          <h3 className=\"text-lg font-medium text-gray-900\">Review for \"{bookTitle}\"</h3>\n        </div>\n      )}\n\n      {/* Rating */}\n      <div>\n        <div className=\"flex items-center\">\n          <label htmlFor=\"rating\" className=\"block text-sm font-medium text-gray-700 mr-4\">\n            Your Rating\n          </label>\n          <StarRating\n            rating={rating}\n            onChange={handleRatingChange}\n            size=\"lg\"\n          />\n        </div>\n        {ratingError && (\n          <p className=\"mt-1 text-sm text-red-600\">{ratingError}</p>\n        )}\n      </div>\n\n      {/* Review content */}\n      <div>\n        <label htmlFor=\"content\" className=\"block text-sm font-medium text-gray-700\">\n          Your Review\n        </label>\n        <div className=\"mt-1\">\n          <textarea\n            id=\"content\"\n            name=\"content\"\n            rows={5}\n            value={content}\n            onChange={handleContentChange}\n            placeholder=\"Share your thoughts about this book...\"\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm\"\n          />\n        </div>\n        {contentError && (\n          <p className=\"mt-1 text-sm text-red-600\">{contentError}</p>\n        )}\n        <p className=\"mt-2 text-sm text-gray-500\">\n          Be honest and helpful. Your review will help other readers make informed decisions.\n        </p>\n      </div>\n\n      {/* Form actions */}\n      <div className=\"flex justify-end space-x-3\">\n        {onCancel && (\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            disabled={isSubmitting}\n            className=\"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2\"\n          >\n            Cancel\n          </button>\n        )}\n        <button\n          type=\"submit\"\n          disabled={isSubmitting}\n          className=\"inline-flex justify-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {isSubmitting ? (\n            <>\n              <Spinner size=\"sm\" color=\"text-white\" className=\"mr-2\" />\n              Submitting...\n            </>\n          ) : initialContent ? 'Update Review' : 'Submit Review'}\n        </button>\n      </div>\n    </form>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Layout } from '../../components/layout/layout.tsx';\nimport { Container } from '../../components/layout/container.tsx';\nimport { Spinner } from '../../components/ui/spinner.tsx';\nimport { Alert } from '../../components/ui/alert.tsx';\nimport { ReviewForm } from '../../components/reviews/review-form.tsx';\nimport { BookService } from '../../services/book-service.ts';\nimport { ReviewService } from '../../services/review-service.ts';\nimport { Book, Review } from '../../types';\n\n/**\n * Review editor page for creating or editing reviews\n */\nexport const ReviewEditorPage: React.FC = () => {\n  const { bookId, reviewId } = useParams<{ bookId?: string; reviewId?: string }>();\n  const navigate = useNavigate();\n  const queryClient = useQueryClient();\n  const [error, setError] = useState<string>('');\n  const isEditMode = !!reviewId;\n  \n  // Fetch book details if creating a new review\n  const { \n    data: book, \n    isLoading: bookLoading, \n    error: bookError \n  } = useQuery<Book>(\n    ['book', bookId],\n    () => BookService.getBookById(bookId!),\n    {\n      enabled: !!bookId && !isEditMode,\n      staleTime: 5 * 60 * 1000, // 5 minutes\n    }\n  );\n  \n  // Fetch review details if editing an existing review\n  const { \n    data: review, \n    isLoading: reviewLoading, \n    error: reviewError \n  } = useQuery<Review>(\n    ['review', reviewId],\n    () => ReviewService.getReviewById(reviewId!),\n    {\n      enabled: !!reviewId && isEditMode,\n      staleTime: 5 * 60 * 1000, // 5 minutes\n    }\n  );\n  \n  // Create review mutation\n  const createReviewMutation = useMutation(\n    (data: { bookId: string; content: string; rating: number }) => \n      ReviewService.createReview({\n        bookId: data.bookId,\n        content: data.content,\n        rating: data.rating,\n      }),\n    {\n      onSuccess: (data) => {\n        // Invalidate and refetch book reviews\n        queryClient.invalidateQueries(['bookReviews', bookId]);\n        queryClient.invalidateQueries(['book', bookId]);\n        navigate(`/books/${bookId}`);\n      },\n      onError: (err: any) => {\n        setError(err?.message || 'Failed to create review. Please try again.');\n      },\n    }\n  );\n  \n  // Update review mutation\n  const updateReviewMutation = useMutation(\n    (data: { id: string; content: string; rating: number }) => \n      ReviewService.updateReview(data.id, {\n        content: data.content,\n        rating: data.rating,\n      }),\n    {\n      onSuccess: (data) => {\n        // Invalidate and refetch book reviews and the specific review\n        queryClient.invalidateQueries(['bookReviews', review?.book.id]);\n        queryClient.invalidateQueries(['review', reviewId]);\n        queryClient.invalidateQueries(['book', review?.book.id]);\n        navigate(`/books/${review?.book.id}`);\n      },\n      onError: (err: any) => {\n        setError(err?.message || 'Failed to update review. Please try again.');\n      },\n    }\n  );\n  \n  // Handle form submission\n  const handleSubmit = (rating: number, content: string): void => {\n    if (isEditMode && reviewId) {\n      updateReviewMutation.mutate({\n        id: reviewId,\n        content,\n        rating,\n      });\n    } else if (bookId) {\n      createReviewMutation.mutate({\n        bookId,\n        content,\n        rating,\n      });\n    }\n  };\n  \n  // Handle cancel\n  const handleCancel = (): void => {\n    if (isEditMode && review) {\n      navigate(`/books/${review.book.id}`);\n    } else if (bookId) {\n      navigate(`/books/${bookId}`);\n    } else {\n      navigate('/');\n    }\n  };\n  \n  // Loading state\n  const isLoading = (isEditMode && reviewLoading) || (!isEditMode && bookLoading);\n  \n  // Error state\n  const loadingError = (isEditMode && reviewError) || (!isEditMode && bookError);\n  \n  if (isLoading) {\n    return (\n      <Layout>\n        <Container className=\"py-12\">\n          <div className=\"flex justify-center\">\n            <Spinner size=\"lg\" />\n          </div>\n        </Container>\n      </Layout>\n    );\n  }\n  \n  if (loadingError) {\n    return (\n      <Layout>\n        <Container className=\"py-12\">\n          <Alert type=\"error\">\n            {isEditMode \n              ? 'Failed to load review. Please try again later.' \n              : 'Failed to load book details. Please try again later.'\n            }\n          </Alert>\n          <div className=\"mt-6 text-center\">\n            <Link\n              to={isEditMode && review ? `/books/${review.book.id}` : '/books'}\n              className=\"text-primary-600 hover:text-primary-500\"\n            >\n              Go back\n            </Link>\n          </div>\n        </Container>\n      </Layout>\n    );\n  }\n  \n  // If editing but review not found\n  if (isEditMode && !review) {\n    return (\n      <Layout>\n        <Container className=\"py-12\">\n          <Alert type=\"error\">Review not found.</Alert>\n          <div className=\"mt-6 text-center\">\n            <Link to=\"/books\" className=\"text-primary-600 hover:text-primary-500\">\n              Browse books\n            </Link>\n          </div>\n        </Container>\n      </Layout>\n    );\n  }\n  \n  // If creating but book not found\n  if (!isEditMode && !book) {\n    return (\n      <Layout>\n        <Container className=\"py-12\">\n          <Alert type=\"error\">Book not found.</Alert>\n          <div className=\"mt-6 text-center\">\n            <Link to=\"/books\" className=\"text-primary-600 hover:text-primary-500\">\n              Browse books\n            </Link>\n          </div>\n        </Container>\n      </Layout>\n    );\n  }\n  \n  return (\n    <Layout>\n      <Container className=\"py-8\">\n        <div className=\"max-w-3xl mx-auto\">\n          <h1 className=\"text-3xl font-bold tracking-tight text-gray-900\">\n            {isEditMode ? 'Edit Review' : 'Write a Review'}\n          </h1>\n          \n          <div className=\"mt-8\">\n            <ReviewForm\n              initialRating={isEditMode ? review?.rating : 0}\n              initialContent={isEditMode ? review?.content : ''}\n              bookTitle={isEditMode ? review?.book.title : book?.title}\n              isSubmitting={createReviewMutation.isLoading || updateReviewMutation.isLoading}\n              error={error}\n              onSubmit={handleSubmit}\n              onCancel={handleCancel}\n            />\n          </div>\n        </div>\n      </Container>\n    </Layout>\n  );\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n"],"names":["React","require","objectIs","Object","is","x","y","useState","useEffect","useLayoutEffect","useDebugValue","checkIfSnapshotChanged","inst","latestGetSnapshot","getSnapshot","value","nextValue","error","shim","window","document","createElement","subscribe","_useState","forceUpdate","exports","useSyncExternalStore","StarRating","_ref","rating","maxRating","size","color","readOnly","onChange","className","hoverRating","setHoverRating","sizeClasses","sm","md","lg","_jsx","concat","onMouseLeave","handleMouseLeave","children","Array","from","length","_","i","starIndex","isFilled","onMouseEnter","handleMouseEnter","index","onClick","handleClick","role","undefined","tabIndex","xmlns","viewBox","fill","d","stroke","strokeLinecap","strokeLinejoin","strokeWidth","ReviewService","getReviews","async","skip","arguments","take","api","get","getBookReviews","bookId","getUserReviews","userId","getReviewById","id","createReview","post","reviewData","content","updateReview","patch","deleteReview","delete","getAverageRating","ReviewForm","initialRating","initialContent","bookTitle","isSubmitting","onSubmit","onCancel","setRating","setContent","contentError","setContentError","ratingError","setRatingError","_jsxs","e","preventDefault","validateForm","isValid","trim","Alert","type","onClose","htmlFor","newRating","name","rows","target","placeholder","disabled","_Fragment","Spinner","ReviewEditorPage","reviewId","useParams","navigate","useNavigate","queryClient","useQueryClient","setError","isEditMode","data","book","isLoading","bookLoading","bookError","useQuery","BookService","getBookById","enabled","staleTime","review","reviewLoading","reviewError","createReviewMutation","useMutation","onSuccess","invalidateQueries","onError","err","message","updateReviewMutation","loadingError","Layout","Container","Link","to","title","handleSubmit","mutate","handleCancel","module"],"sourceRoot":""}